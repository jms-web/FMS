





ALTER VIEW [dbo].[VWM004_SYAIN]
AS
SELECT
 M004.SYAIN_ID
,M004.SYAIN_NO
,M004.SIMEI
,M004.SIMEI_KANA
,M004.SYAIN_KB
,ISNULL((SELECT ITEM_DISP FROM M001_SETTING AS M001 WHERE(M001.ITEM_NAME = '社員区分' AND M001.ITEM_VALUE = M004.SYAIN_KB)),'') AS SYAIN_KB_DISP
,M004.YAKUSYOKU_KB
,ISNULL((SELECT ITEM_DISP FROM M001_SETTING AS M001 WHERE(M001.ITEM_NAME = '役職区分' AND M001.ITEM_VALUE = M004.YAKUSYOKU_KB)),'') AS YAKUSYOKU_KB_DISP
,M004.DAIKO_KB
,ISNULL((SELECT ITEM_DISP FROM M001_SETTING AS M001 WHERE(M001.ITEM_NAME = '承認代行区分' AND M001.ITEM_VALUE = M004.DAIKO_KB)),'') AS DAIKO_KB_DISP
,M004.BIRTH_YMD
,M004.TEL
,M004.MAIL_ADDRESS
,M004.NYUSYA_YMD
,M004.TAISYA_YMD
,M004.PASS
,M004.ADMIN_OP
,M004.ADMIN_SYS
,ISNULL((SELECT '1' FROM M001_SETTING AS M001 WHERE(M001.ITEM_NAME = '管理者権限' AND M001.ITEM_DISP = M004.SYAIN_ID)),'0') AS ADMIN_AUTH
,ISNULL((SELECT '1' FROM M001_SETTING AS M001 WHERE(M001.ITEM_NAME = '滞留メール送信権限' AND M001.ITEM_DISP = M004.SYAIN_ID)),'0') AS MAILSEND_AUTH
,M004.IC_CARD_ID
,M004.AUTH1
,ISNULL((SELECT ITEM_DISP FROM M001_SETTING AS M001 WHERE(M001.ITEM_NAME = '権限区分' AND M001.ITEM_VALUE = M004.AUTH1)),'権限なし') AS AUTH1_NAME
,M004.AUTH2
,ISNULL((SELECT ITEM_DISP FROM M001_SETTING AS M001 WHERE(M001.ITEM_NAME = '権限区分' AND M001.ITEM_VALUE = M004.AUTH2)),'権限なし') AS AUTH2_NAME
,M004.AUTH3
,ISNULL((SELECT ITEM_DISP FROM M001_SETTING AS M001 WHERE(M001.ITEM_NAME = '権限区分' AND M001.ITEM_VALUE = M004.AUTH3)),'権限なし') AS AUTH3_NAME
,M004.AUTH4
,ISNULL((SELECT ITEM_DISP FROM M001_SETTING AS M001 WHERE(M001.ITEM_NAME = '権限区分' AND M001.ITEM_VALUE = M004.AUTH4)),'権限なし') AS AUTH4_NAME
,M004.ADD_YMDHNS
,M004.ADD_SYAIN_ID
,ISNULL((SELECT SIMEI FROM M004_SYAIN AS M WHERE(M004.ADD_SYAIN_ID = M.SYAIN_ID)),'') AS ADD_SYAIN_NAME
,M004.UPD_YMDHNS
,M004.UPD_SYAIN_ID
,ISNULL((SELECT SIMEI FROM M004_SYAIN AS M WHERE(M004.UPD_SYAIN_ID = M.SYAIN_ID)),'') AS UPD_SYAIN_NAME
,isnull(M004.DEL_YMDHNS,' ') AS DEL_YMDHNS
,isnull(M004.DEL_SYAIN_ID,0) AS DEL_SYAIN_ID
,isnull((SELECT SIMEI FROM M004_SYAIN AS M WHERE(M004.DEL_SYAIN_ID = M.SYAIN_ID)),'') AS DEL_SYAIN_NAME
,(CASE RTRIM(M004.DEL_YMDHNS) WHEN '' THEN '0' ELSE '1' END) AS DEL_FLG
FROM
  M004_SYAIN AS M004
  